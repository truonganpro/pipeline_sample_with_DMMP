"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8346],{59672:function(e,t,n){n.r(t),n.d(t,{MergedAutomationRoot:function(){return eE},default:function(){return eN}});var s=n(52322),o=n(14934),r=n(45774),a=n(37483),l=n(74580),i=n(35292),c=n(74159),d=n(35002),u=n(2784),h=n(55010),p=n(60603),m=n(38491),x=n(29467),j=n(25212),g=n(34147),y=n(39013),f=n(92506),v=n(20958),S=n(71406),w=n(54724),b=n(94062),C=n(99417),E=n(89398);let N=e=>{let{openWithIntent:t,onClose:n,onComplete:o,automations:r}=e,a=r.length,[l,i]=(0,w.s)();(0,u.useEffect)(()=>{"not-open"===t&&i({type:"reset"})},[t,i]);let[c]=(0,v.Db)(E.VE),[d]=(0,v.Db)(E.Xu),[h]=(0,v.Db)(C.Wz),[p]=(0,v.Db)(C.d0),N=async e=>{let{repoAddress:t,name:n,type:s}=e,o={repositoryLocationName:t.location,repositoryName:t.name};switch(s){case"sensor":{let{data:e}=await c({variables:{sensorSelector:{...o,sensorName:n}}});switch(null==e?void 0:e.startSensor.__typename){case"Sensor":i({type:"update-success"});return;case"SensorNotFoundError":case"UnauthorizedError":case"PythonError":i({type:"update-error",name:n,error:e.startSensor.message})}break}case"schedule":{let{data:e}=await h({variables:{scheduleSelector:{...o,scheduleName:n}}});switch(null==e?void 0:e.startSchedule.__typename){case"ScheduleStateResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:n,error:e.startSchedule.message})}break}default:(0,S.UT)(s)}},k=async e=>{let{name:t,type:n,instigationState:s}=e,o={id:s.id};switch(n){case"sensor":{let{data:e}=await d({variables:o});switch(null==e?void 0:e.stopSensor.__typename){case"StopSensorMutationResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:t,error:e.stopSensor.message})}break}case"schedule":{let{data:e}=await p({variables:o});switch(null==e?void 0:e.stopRunningSchedule.__typename){case"ScheduleStateResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:t,error:e.stopRunningSchedule.message})}break}default:(0,S.UT)(n)}},z=async()=>{if("not-open"!==t){for(let e of(i({type:"start"}),r))"start"===t?await N(e):await k(e);i({type:"complete"}),o()}},M="updating"!==l.step;return(0,s.jsxs)(f.Vq,{isOpen:"not-open"!==t,title:"start"===t?"Start automations":"Stop automations",canEscapeKeyClose:M,canOutsideClickClose:M,onClose:n,children:[(0,s.jsx)(f.a7,{children:(0,s.jsxs)(g.Z,{direction:"column",spacing:24,children:[(()=>{if("not-open"===t)return null;switch(l.step){case"initial":if("stop"===t)return(0,s.jsx)("div",{children:"".concat(1===a?"1 automation":"".concat(a," automations")," will be stopped. Do you want to continue?")});return(0,s.jsx)("div",{children:"".concat(1===a?"1 automation":"".concat(a," automations")," will be started. Do you want to continue?")});case"updating":case"completed":let e=a>0?l.completion.completed/a:1;return(0,s.jsxs)(g.Z,{direction:"column",spacing:8,children:[(0,s.jsx)(j.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"updating"===l.step?(0,s.jsx)(b.c,{message:"Automations are being updated, please do not navigate away yet."}):null]});default:return null}})(),(()=>{if("not-open"===t||"initial"===l.step)return null;if("updating"===l.step)return(0,s.jsx)("div",{children:"Please do not close the window or navigate away while automations are being updated."});let e=l.completion.errors,n=Object.keys(e).length,o=l.completion.completed-n;return(0,s.jsxs)(g.Z,{direction:"column",spacing:8,children:[o?(0,s.jsxs)(g.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(x.JO,{name:"check_circle",color:y.fA()}),(0,s.jsx)("div",{children:"start"===t?"Successfully started ".concat(1===o?"1 automation":"".concat(o," automations"),"."):"Successfully stopped ".concat(1===o?"1 automation":"".concat(o," automations"),".")})]}):null,n?(0,s.jsxs)(g.Z,{direction:"column",spacing:8,children:[(0,s.jsxs)(g.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(x.JO,{name:"warning",color:y.qr()}),(0,s.jsx)("div",{children:"start"===t?"Could not start ".concat(1===n?"1 automation":"".concat(n," automations"),":"):"Could not stop ".concat(1===n?"1 automation":"".concat(n," automations"),":")})]}),(0,s.jsx)("ul",{style:{margin:"8px 0"},children:Object.keys(e).map(t=>(0,s.jsx)("li",{children:(0,s.jsxs)(g.Z,{direction:"row",spacing:8,children:[(0,s.jsxs)("strong",{children:[t,":"]}),e[t]?(0,s.jsx)("div",{children:e[t]}):null]})},t))})]}):null]})})()]})}),(0,s.jsx)(f.cN,{children:(()=>{if("not-open"===t)return null;switch(l.step){case"initial":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.zx,{onClick:n,children:"Cancel"}),(0,s.jsx)(m.zx,{intent:"primary",onClick:z,children:"start"===t?"Start ".concat(1===a?"1 automation":"".concat(a," automations")):"Stop ".concat(1===a?"1 automation":"".concat(a," automations"))})]});case"updating":return(0,s.jsx)(m.zx,{intent:"primary",disabled:!0,children:"start"===t?"Starting ".concat(1===a?"1 automation":"".concat(a," automations")):"Stopping ".concat(1===a?"1 automation":"".concat(a," automations"))});case"completed":return(0,s.jsx)(m.zx,{intent:"primary",onClick:n,children:"Done"})}})()})]})};var k=n(69557);let z=e=>{let{automations:t,onDone:n}=e,o=t.length,[r,a]=(0,u.useState)("not-open"),{anyOff:l,anyOn:i}=(0,u.useMemo)(()=>(0,k.H)(t.map(e=>{let{instigationState:t}=e;return t})),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.J,{content:(0,s.jsxs)(p.v2,{children:[(0,s.jsx)(p.sN,{text:"Start ".concat(1===o?"1 automation":"".concat(o," automations")),disabled:!l,"aria-disabled":!l,icon:"toggle_on",onClick:()=>{a("start")}}),(0,s.jsx)(p.sN,{text:"Stop ".concat(1===o?"1 automation":"".concat(o," automations")),disabled:!i,"aria-disabled":!i,icon:"toggle_off",onClick:()=>{a("stop")}})]}),placement:"bottom-end",children:(0,s.jsx)(m.zx,{disabled:!o,intent:"primary",rightIcon:(0,s.jsx)(x.JO,{name:"expand_more"}),children:"Actions"})}),(0,s.jsx)(N,{openWithIntent:r,automations:t,onClose:()=>a("not-open"),onComplete:()=>{n()}})]})};var M=n(43212),T=n(88510),_=n(35505),A=n(17008);let L="60px minmax(400px, 1.5fr) 240px 1fr 200px 200px",q=e=>{let{checkbox:t}=e;return(0,s.jsxs)(A.VJ,{templateColumns:L,sticky:!0,children:[(0,s.jsx)(A.qN,{children:(0,s.jsx)("div",{style:{position:"relative",top:"-1px"},children:t})}),(0,s.jsx)(A.qN,{children:"Name"}),(0,s.jsx)(A.qN,{children:"Type"}),(0,s.jsx)(A.qN,{children:"Target"}),(0,s.jsx)(A.qN,{children:"Last tick"}),(0,s.jsx)(A.qN,{children:"Last run"})]})},O=(0,_.ZP)(o.x).withConfig({componentId:"sc-40d0a0cf-0"})(["display:grid;grid-template-columns:",";height:100%;"],L);var R=n(37504),U=n(53664),I=n(47933),P=n(24427),D=n(16336),Z=n(88257),V=n(60648),W=n(92474),F=n(6750),H=n(4219),Y=n(73310),B=n(86269),J=n(58905),K=n(27028),$=n(83738),G=n(10539);let X=(0,u.forwardRef)((e,t)=>{var n;let{index:r,name:a,repoAddress:l,checked:c,onToggleChecked:h}=e,[p,m]=(0,v.td)(K.B8,{variables:{selector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:a}},notifyOnNetworkStatusChange:!0}),[x,j]=(0,v.td)(F.d,{variables:{scheduleSelector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:a}}});(0,$.v5)((0,u.useCallback)(()=>{p(),x()},[p,x])),(0,D.C4)(m,D.dT),(0,D.C4)(j,D.dT);let{data:g}=m,y=(0,u.useMemo)(()=>(null==g?void 0:g.scheduleOrError.__typename)!=="Schedule"?null:g.scheduleOrError,[g]),f=null==y?void 0:y.scheduleState,S=(0,u.useMemo)(()=>{if(!f)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=f;return n!==Z.ynu.RUNNING||t?n!==Z.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this schedule"}:{disabled:!0,message:"You do not have permission to stop this schedule"}},[f]),w=null==y?void 0:y.scheduleState.ticks[0],b=(null==y?void 0:y.pipelineName)?[{pipelineName:y.pipelineName}]:null,C=(null===(n=j.data)||void 0===n?void 0:n.scheduleOrError.__typename)==="Schedule"?j.data.scheduleOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":r,children:(0,s.jsxs)(O,{border:"bottom",children:[(0,s.jsx)(A.E5,{children:(0,s.jsx)(d.u,{canShow:S.disabled,content:S.message||"",placement:"top",children:(0,s.jsx)(R.X,{disabled:S.disabled,checked:c,onChange:e=>{if(h&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;h({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(A.E5,{children:(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[y?(0,s.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(H.M,{repoAddress:l,schedule:y},a),(0,Y.l)(y.scheduleState.status,y.scheduleState.runningCount)]}):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(I.rU,{to:(0,G.$U)(l,"/schedules/".concat(a)),children:(0,s.jsx)(U.g,{text:a})})]})}),(0,s.jsx)(A.E5,{children:y?(0,s.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(W.P,{cronSchedule:y.cronSchedule,executionTimezone:y.executionTimezone}),y.scheduleState.nextTick&&y.scheduleState.status===Z.ynu.RUNNING?(0,s.jsx)(i.YS,{children:(0,s.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,s.jsx)(B.v,{timestamp:y.scheduleState.nextTick.timestamp,timezone:y.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,s.jsx)($.mq,{queryResult:m})}),(0,s.jsx)(A.E5,{children:(0,s.jsx)("div",{children:(0,s.jsx)(P.p,{repoAddress:l,automationType:"schedule",targets:b,assetSelection:C})})}),(0,s.jsx)(A.E5,{children:w?(0,s.jsx)("div",{children:(0,s.jsx)(J.a,{tick:w})}):(0,s.jsx)($.mq,{queryResult:m})}),(0,s.jsx)(A.E5,{children:(null==y?void 0:y.scheduleState)&&(null==y?void 0:y.scheduleState.runs[0])?(0,s.jsx)(V.Z,{run:y.scheduleState.runs[0],name:a,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)($.mq,{queryResult:m})})]})})});var Q=n(6265),ee=n(60918),et=n(53029);let en=(0,u.forwardRef)((e,t)=>{var n;let{index:r,name:a,repoAddress:l,checked:i,onToggleChecked:c}=e,[h,p]=(0,v.td)(et.bL,{variables:{selector:{repositoryName:l.name,repositoryLocationName:l.location,sensorName:a}}}),[m,x]=(0,v.td)(Q.Z,{variables:{sensorSelector:{repositoryName:l.name,repositoryLocationName:l.location,sensorName:a}}});(0,$.v5)((0,u.useCallback)(()=>{h(),m()},[h,m])),(0,D.C4)(p,D.dT),(0,D.C4)(x,D.dT);let{data:j}=p,g=(0,u.useMemo)(()=>(null==j?void 0:j.sensorOrError.__typename)!=="Sensor"?null:j.sensorOrError,[j]),y=null==g?void 0:g.sensorState,f=(0,u.useMemo)(()=>{if(!y)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=y;return n!==Z.ynu.RUNNING||t?n!==Z.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this sensor"}:{disabled:!0,message:"You do not have permission to stop this sensor"}},[y]),S=null==g?void 0:g.sensorState.ticks[0],w=null==g?void 0:g.sensorType,b=w?et.W_[w]:null,C=(null===(n=x.data)||void 0===n?void 0:n.sensorOrError.__typename)==="Sensor"?x.data.sensorOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":r,children:(0,s.jsxs)(O,{border:"bottom",children:[(0,s.jsx)(A.E5,{children:(0,s.jsx)(d.u,{canShow:f.disabled,content:f.message||"",placement:"top",children:(0,s.jsx)(R.X,{disabled:f.disabled,checked:i,onChange:e=>{if(c&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;c({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(A.E5,{children:(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[g?(0,s.jsx)(ee.c,{repoAddress:l,sensor:g},a):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(I.rU,{to:(0,G.$U)(l,"/sensors/".concat(a)),children:(0,s.jsx)(U.g,{text:a})})]})}),(0,s.jsx)(A.E5,{children:(0,s.jsx)("div",{children:b?b.description?(0,s.jsx)(d.u,{content:(0,s.jsx)("div",{style:{maxWidth:"300px"},children:b.description}),placement:"top",children:(0,s.jsx)(M.V,{icon:b.icon,children:b.name})}):(0,s.jsx)(M.V,{icon:b.icon,children:b.name}):null})}),(0,s.jsx)(A.E5,{children:g?(0,s.jsx)("div",{children:(0,s.jsx)(P.p,{targets:g.targets||null,repoAddress:l,assetSelection:C,automationType:g.sensorType})}):(0,s.jsx)($.mq,{queryResult:x})}),(0,s.jsx)(A.E5,{children:S?(0,s.jsx)("div",{children:(0,s.jsx)(J.a,{tick:S})}):(0,s.jsx)($.mq,{queryResult:p})}),(0,s.jsx)(A.E5,{children:(null==g?void 0:g.sensorState)&&(null==g?void 0:g.sensorState.runs[0])?(0,s.jsx)(V.Z,{run:g.sensorState.runs[0],name:a,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)($.mq,{queryResult:p})})]})})});var es=n(22921),eo=n(40389),er=n(98956),ea=n(50646),el=n(22563);let ei=e=>{var t,n;let{repos:r,headerCheckbox:a,checkedKeys:l,onToggleCheckFactory:i}=e,c=u.useRef(null),h=u.useMemo(()=>r.map(e=>{let{repoAddress:t}=e;return(0,el.Uz)(t)}),[r]),{expandedKeys:p,onToggle:m,onToggleAll:x}=(0,ea.N)(es.y,h),j=u.useMemo(()=>{let e=[];return r.forEach(t=>{let{repoAddress:n,schedules:s,sensors:o}=t;e.push({type:"header",repoAddress:n,scheduleCount:s.length,sensorCount:o.length});let r=(0,el.Uz)(n);if(p.includes(r)){let t=new Set(o),r=new Set(s);[...o,...s].sort((e,t)=>S.Bl.compare(e,t)).forEach(s=>{t.has(s)?e.push({type:"sensor",repoAddress:n,sensor:s}):r.has(s)&&e.push({type:"schedule",repoAddress:n,schedule:s})})}}),e},[r,p]),g=(0,er.w)(r.map(e=>{let{repoAddress:t}=e;return t.name})),y=(0,T.MG)({count:j.length,getScrollElement:()=>c.current,estimateSize:e=>{let t=j[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:15}),f=y.getTotalSize(),v=y.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(A.W2,{ref:c,children:[(0,s.jsx)(q,{checkbox:a}),(0,s.jsx)(A.Nh,{$totalHeight:f,children:(0,s.jsx)(A.HR,{$start:null!==(n=null===(t=v[0])||void 0===t?void 0:t.start)&&void 0!==n?n:0,children:v.map(e=>{let{index:t,key:n}=e,r=j[t],a=r.type;if("header"===a)return(0,s.jsx)($._$,{repoAddress:r.repoAddress,ref:y.measureElement,index:t,onToggle:m,onToggleAll:x,expanded:p.includes((0,el.Uz)(r.repoAddress)),showLocation:g.has(r.repoAddress.name),rightElement:(0,s.jsxs)(o.x,{flex:{direction:"row",gap:4},children:[(0,s.jsx)(d.u,{content:1===r.sensorCount?"1 sensor":"".concat(r.sensorCount," sensors"),placement:"top",children:(0,s.jsx)(M.V,{icon:"sensors",children:r.sensorCount})}),(0,s.jsx)(d.u,{content:1===r.scheduleCount?"1 schedule":"".concat(r.scheduleCount," schedules"),placement:"top",children:(0,s.jsx)(M.V,{icon:"schedule",children:r.scheduleCount})})]})},n);if("sensor"===a){let e=(0,eo.M)(r.repoAddress,r.sensor);return(0,s.jsx)(en,{index:t,ref:y.measureElement,name:r.sensor,checked:l.has(e),onToggleChecked:i(e),repoAddress:r.repoAddress},n)}if("schedule"===a){let e=(0,eo.M)(r.repoAddress,r.schedule);return(0,s.jsx)(X,{index:t,ref:y.measureElement,name:r.schedule,checked:l.has(e),onToggleChecked:i(e),repoAddress:r.repoAddress},n)}return(0,s.jsx)("div",{},n)})})})]})})};var ec=n(69737),ed=n(20171),eu=n(4378),eh=n(52154),ep=n(77044),em=n(907),ex=n(49455),ej=n(74302),eg=n(81602),ey=n(2389),ef=n(50027),ev=n(2949),eS=n(8355),ew=n(65822);let eb={schedules:{label:"Schedules",value:{type:"schedules",label:"Schedules"},match:["schedules"]},sensors:{label:"Sensors",value:{type:"sensors",label:"Sensors"},match:["sensors"]}},eC=Object.values(eb),eE=()=>{(0,ec.Px)(),(0,ed.j)("Automation");let{allRepos:e,visibleRepos:t,loading:n,data:h,refetch:p}=(0,u.useContext)(eS.C5),[m,x]=(0,eu.q)({queryKey:"search",defaults:{search:""}}),[j,g]=(0,eu.q)({encode:e=>({automationType:e.size?Array.from(e).join(","):void 0}),decode:e=>{var t;return new Set((null===(t=e.automationType)||void 0===t?void 0:t.split(","))||[])}}),y=(0,u.useMemo)(()=>new Set(Array.from(j).map(e=>eb[e].value)),[j]),f=(0,ef.A)(),v=(0,ev.g)(),S=(0,eg.im)({name:"Automation type",allValues:eC,icon:"auto_materialize_policy",getStringValue:e=>e.label,state:y,renderLabel:e=>{let{value:t}=e;return(0,s.jsx)("span",{children:t.label})},onStateChanged:e=>{g(new Set(Array.from(e).map(e=>e.type)))}}),w=(0,u.useMemo)(()=>[f,v,S],[f,v,S]),{button:b,activeFiltersJsx:C}=(0,ej.m)({filters:w}),E=(0,u.useMemo)(()=>{let e=Object.values(h).filter(e=>"WorkspaceLocationEntry"===e.__typename),n=(0,ex.S)(t);return ek(e).filter(e=>{let{repoAddress:t}=e;return n.has((0,el.Uz)(t))})},[h,t]),{state:N}=v,k=(0,u.useMemo)(()=>E.map(e=>{let{sensors:t,schedules:n,...s}=e;return{...s,sensors:t.filter(e=>{let{sensorState:t}=e;return(!N.size||!!N.has(t.status))&&(!j.size||!!j.has("sensors"))}),schedules:n.filter(e=>{let{scheduleState:t}=e;return(!N.size||!!N.has(t.status))&&(!j.size||!!j.has("schedules"))})}}),[E,j,N]),M=m.trim().toLocaleLowerCase(),T=M.length>0,_=(0,u.useMemo)(()=>{let e=M.toLocaleLowerCase();return k.map(t=>{let{repoAddress:n,schedules:s,sensors:o}=t;return{repoAddress:n,schedules:s.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t}),sensors:o.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t})}}).filter(e=>{let{sensors:t,schedules:n}=e;return t.length>0||n.length>0})},[k,M]),A=(0,u.useMemo)(()=>k.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...s.filter(e=>{let{sensorState:t}=e;return(0,ep.i)(t)}).map(e=>{let{name:n,sensorState:s}=e;return{repoAddress:t,name:n,type:"sensor",instigationState:s}}),...n.filter(e=>{let{scheduleState:t}=e;return(0,ep.i)(t)}).map(e=>{let{name:n,scheduleState:s}=e;return{repoAddress:t,name:n,type:"schedule",instigationState:s}})]}).flat(),[k]),L=(0,u.useMemo)(()=>A.map(e=>{let{repoAddress:t,name:n}=e;return(0,eo.M)(t,n)}),[A]),[{checkedIds:q},{onToggleFactory:O,onToggleAll:R}]=(0,eh.a)(L),U=(0,u.useMemo)(()=>{let e=new Set(_.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...n,...s].map(e=>(0,eo.M)(t,e))}).flat());return L.filter(t=>e.has(t))},[L,_]),I=(0,u.useMemo)(()=>{let e=new Set(U.filter(e=>q.has(e)));return A.filter(t=>{let{repoAddress:n,name:s}=t;return e.has((0,eo.M)(n,s))})},[U,A,q]),P=L.length>0,D=I.length,Z=U.length>0;return(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(l.m,{title:(0,s.jsx)(i.X6,{children:"Automation"})}),(0,s.jsxs)(o.x,{padding:{horizontal:24,vertical:12},flex:{direction:"row",alignItems:"center",justifyContent:"space-between",gap:12,grow:0},children:[(0,s.jsxs)(o.x,{flex:{direction:"row",gap:12},children:[b,(0,s.jsx)(c.oi,{icon:"search",value:m,onChange:e=>x(e.target.value),placeholder:"Filter by name…",style:{width:"340px"}})]}),(0,s.jsx)(d.u,{content:"You do not have permission to start or stop these schedules",canShow:Z&&!P,placement:"top-end",useDisabledButtonTooltipFix:!0,children:(0,s.jsx)(z,{automations:I,onDone:()=>p()})})]}),C.length?(0,s.jsx)(o.x,{padding:{vertical:8,horizontal:24},border:"top-and-bottom",flex:{direction:"row",gap:8},children:C}):null,(()=>{if(n)return(0,s.jsx)(o.x,{flex:{direction:"row",justifyContent:"center"},padding:{top:64},children:(0,s.jsx)(r.f,{label:"Loading automations…"})});let l=e.length>t.length;return _.length?(0,s.jsx)(ei,{headerCheckbox:P?(0,s.jsx)(ey.W,{checkedCount:D,totalCount:U.length,onToggleAll:R}):void 0,repos:_,checkedKeys:q,onToggleCheckFactory:O}):T?(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(a.t,{icon:"search",title:"No matching automations",description:l?(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:m})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:m})," were found in your definitions"]})})}):(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(a.t,{icon:"search",title:"No automations",description:l?"No automations were found in the selected code locations":"No matching automations"})})})()]})};var eN=eE;let ek=e=>{let t=e.map(e=>e.locationOrLoadError),n=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,schedules:o,sensors:r}=t,a=(0,ew.kQ)(s,e.name);r.length>0&&n.push({repoAddress:a,schedules:o,sensors:r})}return(0,em.S)(n)}},907:function(e,t,n){n.d(t,{S:function(){return o}});var s=n(22563);let o=e=>[...e].sort((e,t)=>{let n=(0,s.Uz)(e.repoAddress),o=(0,s.Uz)(t.repoAddress);return n.localeCompare(o)})},49455:function(e,t,n){n.d(t,{S:function(){return r}});var s=n(65822),o=n(22563);let r=e=>new Set(e.map(e=>(0,o.Uz)((0,s.kQ)(e.repository.name,e.repositoryLocation.name))))}}]);
//# sourceMappingURL=8346.3a7cb1b827e7ba0b.js.map