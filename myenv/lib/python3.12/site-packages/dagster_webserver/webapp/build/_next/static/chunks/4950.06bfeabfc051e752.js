"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4950],{21473:function(e,n,r){r.d(n,{G:function(){return A}});var t=r(73235),i=r(52322),s=r(49853),l=r(49308),a=r(14934),o=r(37483),c=r(43212),u=r(89891),d=r(80122),h=r(29467),p=r(2784),x=r(7267),j=r(36381),m=r(76016),f=r(20958),g=r(78491),v=r(16336),y=r(69737),b=r(53040),R=r(30916),S=r(43984),_=r(33182),C=r(52338),E=r(15332),I=r(88610),F=r(59923),O=r(85062),P=r(92199),k=r(22563),w=r(10539);function $(){let e=(0,t._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return e},e}let T=["status","tag","id","created_date_before","created_date_after"],A=e=>{(0,y.Px)();let{pipelinePath:n}=(0,x.UO)(),{repoAddress:r=null}=e,t=(0,j.p3)(n),{pipelineName:h,snapshotId:f}=t,g=(0,P.Ux)(r),R=(0,P.E8)(g,h);(0,m.b)(t,R);let[I,w]=(0,C.oD)(T),$=(0,p.useMemo)(()=>[R?{token:"job",value:h}:{token:"pipeline",value:h},f?{token:"snapshotId",value:f}:null].filter(Boolean),[R,h,f]),A=[...I,...$];if(r){let e={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,k.Wg)(r))};A.push(e)}let{queryResult:U,paginationProps:V}=(0,E.l)({query:Y,pageSize:25,variables:{filter:{...(0,C.VH)(A),pipelineName:h,snapshotId:f}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),z=(0,p.useCallback)(e=>{let n=(0,s.HY)(e);I.some(e=>(0,s.HY)(e)===n)||w([...I,e])},[I,w]),H=(0,v.C4)(U,v.dT),{button:q,activeFiltersJsx:B}=(0,C.Vv)({enabledFilters:T,tokens:I,onChange:w,loading:U.loading});return(0,i.jsx)(_.Lw.Provider,{value:{refetch:U.refetch},children:(0,i.jsx)(l.T,{children:(0,i.jsx)(F.g,{queryResult:U,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:t}=e;if("Runs"!==t.__typename)return(0,i.jsx)(a.x,{padding:{vertical:64},children:(0,i.jsx)(o.t,{icon:"error",title:"Query Error",description:t.message})});let s=t.results.slice(0,25),{hasNextCursor:l,hasPrevCursor:p}=V;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.Y,{$top:0,children:(0,i.jsx)(b.A,{runs:s,onAddTag:z,actionBarComponents:(0,i.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[q,(0,i.jsx)(v.xi,{refreshState:H})]}),belowActionBarComponents:(0,i.jsxs)(i.Fragment,{children:[$.map(e=>{let{token:n,value:r}=e;return(0,i.jsx)(c.V,{children:"".concat(n,":").concat(r)},n)}),B.length?(0,i.jsxs)(i.Fragment,{children:[B,(0,i.jsx)(u.Z,{onClick:()=>{w([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,i.jsx)(N,{repoAddress:r,anyFilter:I.length>0,jobName:h,jobPath:n})})}),l||p?(0,i.jsx)("div",{style:{marginTop:"20px"},children:(0,i.jsx)(d.pI,{...V})}):null]})}})})})},N=e=>{let{repoAddress:n,anyFilter:r,jobName:t,jobPath:s}=e,l=(0,P.Ux)(n),c=(0,P.Hb)(l,t);return(0,i.jsx)(a.x,{padding:{vertical:64},children:(0,i.jsx)(o.t,{icon:"run",title:"No runs found",description:n?c?(0,i.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:r?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(I.A,{icon:(0,i.jsx)(h.JO,{name:"materialization"}),to:(0,w.$U)(n,"/jobs/".concat(s)),children:"Materialize an asset"})})]}):(0,i.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:r?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(I.A,{icon:(0,i.jsx)(h.JO,{name:"add_circle"}),to:(0,w.$U)(n,"/jobs/".concat(s,"/playground")),children:"Launch a run"})})]}):(0,i.jsx)("div",{children:"You have not launched any runs for this job."})})})},Y=(0,f.Ps)($(),R.Z,g.B)},84950:function(e,n,r){r.r(n),r.d(n,{SnapshotRoot:function(){return S},default:function(){return _}});var t=r(52322),i=r(7267),s=r(99478),l=r(73235),a=r(43212),o=r(74580),c=r(35292),u=r(74188),d=r(73407),h=r(47933),p=r(20958),x=r(36381),j=r(89918),m=r(92199),f=r(10539);function g(){let e=(0,l._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return g=function(){return e},e}let v=(0,p.Ps)(g()),y=e=>{var n,r;let{activeTab:i="",explorerPath:s}=e,{pipelineName:l,snapshotId:g=""}=s,y=(0,x.gY)({...s,opNames:[]}),b=(0,m.Nc)(l),R=null==b?void 0:b.pipelineSnapshotId,{data:S,loading:_}=(0,p.aM)(v,{variables:{snapshotId:g}});return(0,t.jsx)(o.m,{title:(0,t.jsx)(c.X6,{style:{fontFamily:u.b.monospace,fontSize:"16px"},children:null===(n=s.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.V,{icon:"schema",children:["Snapshot of"," ",(0,t.jsx)(h.rU,{to:(0,f.r4)(s.pipelineName),children:s.pipelineName})]}),_?(0,t.jsx)(a.V,{intent:"none",minimal:!0,children:"..."}):R&&(R===g||(null==S?void 0:S.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==S?void 0:null===(r=S.pipelineSnapshotOrError)||void 0===r?void 0:r.parentSnapshotId)===R)?(0,t.jsx)(a.V,{intent:"success",minimal:!0,children:"Current"}):(0,t.jsx)(a.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,t.jsx)(d.mQ,{selectedTabId:i,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(y)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(y,"runs")}].map(e=>{let{href:n,text:r,pathComponent:i}=e;return(0,t.jsx)(j.f,{id:i,title:r,to:n},r)})})})};var b=r(17872),R=r(21473);let S=()=>{let{pipelinePath:e,tab:n}=(0,i.UO)(),r=(0,x.p3)(e);return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,t.jsx)(y,{activeTab:n,explorerPath:r}),(0,t.jsxs)(i.rs,{children:[(0,t.jsx)(b.A,{path:"/snapshots/:pipelinePath/runs",children:(0,t.jsx)(R.G,{})}),(0,t.jsx)(b.A,{path:"/snapshots/(/?.*)",children:(0,t.jsx)(s.CY,{})})]})]})};var _=S}}]);
//# sourceMappingURL=4950.06bfeabfc051e752.js.map